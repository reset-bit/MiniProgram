var A=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var z=A(C=>{"use strict";Object.defineProperty(C,"__esModule",{value:!0}),C.parseMultiDataPaths=re,C.getDataOnPath=void 0;var R=/^\s/,m=function(e,t){throw new Error('Parsing data path "'+e+'" failed at char "'+e[t]+'" (index '+t+")")},L=function(e,t){for(var r=t.index;t.index<t.length;){var i=e[t.index];if(/^[0-9]/.test(i)){t.index++;continue}break}return r===t.index&&m(e,t.index),parseInt(e.slice(r,t.index),10)},V=function(e,t){var r=t.index,i=e[r];if(/^[_a-zA-Z$]/.test(i))for(t.index++;t.index<t.length;){var p=e[t.index];if(/^[_a-zA-Z0-9$]/.test(p)){t.index++;continue}break}else m(e,t.index);return e.slice(r,t.index)},B=function(e,t){for(var r=[V(e,t)],i={deepCmp:!1};t.index<t.length;){var p=e[t.index];if(p==="[")t.index++,r.push(L(e,t)),e[t.index]!=="]"&&m(e,t.index),t.index++;else if(p==="."){if(t.index++,e[t.index]==="*"){if(t.index++,e[t.index]==="*"){t.index++,i.deepCmp=!0;break}m(e,t.index)}r.push(V(e,t))}else break}return{path:r,options:i}},ee=function(e,t){for(;R.test(e[t.index]);)t.index++;for(var r=[B(e,t)],i=!1;t.index<t.length;){var p=e[t.index];R.test(p)?t.index++:p===","?(i=!0,t.index++):i?(i=!1,r.push(B(e,t))):m(e,t.index)}return r},te=function(e,t){t.index<t.length&&m(e,t.index)};function re(e){var t={length:e.length,index:0},r=ee(e,t);return te(e,t),r}var ne=function(e,t){var r=e;return t.forEach(function(i){r=typeof r!="object"||r===null?void 0:r[i]}),r};C.getDataOnPath=ne});var U=A((Pe,H)=>{H.exports=function(){let t=null,r;function i(n){return n?typeof n=="object"||typeof n=="function":!1}function p(n){if(n!==null&&!i(n))throw new TypeError("Object prototype may only be an Object or null: "+n)}let a=Object,d=Boolean(a.create)||!({__proto__:null}instanceof a),c=a.create||(d?function(o){return p(o),{__proto__:o}}:function(o){if(p(o),o===null)throw new SyntaxError("Native Object.create is required to create objects with null prototype");var v=function(){};return v.prototype=o,new v}),l=function(){return null},_=a.getPrototypeOf||([].__proto__===Array.prototype?function(o){let v=o.__proto__;return i(v)?v:null}:l);return r=function(n,o){if((this&&this instanceof r?this.constructor:void 0)===void 0)throw new TypeError("Constructor Proxy requires 'new'");if(!i(n)||!i(o))throw new TypeError("Cannot create proxy with a non-object as target or handler");let y=function(){};t=function(){n=null,y=function(u){throw new TypeError(`Cannot perform '${u}' on a proxy that has been revoked`)}},setTimeout(function(){t=null},0);let h=o;o={get:null,set:null,apply:null,construct:null};for(let u in h){if(!(u in o))throw new TypeError(`Proxy polyfill does not support trap '${u}'`);o[u]=h[u]}typeof h=="function"&&(o.apply=h.apply.bind(h));let f=_(n),s,x=!1,O=!1;typeof n=="function"?(s=function(){let b=this&&this.constructor===s,P=Array.prototype.slice.call(arguments);if(y(b?"construct":"apply"),b&&o.construct)return o.construct.call(this,n,P);if(!b&&o.apply)return o.apply(n,this,P);if(b){P.unshift(n);let D=n.bind.apply(n,P);return new D}return n.apply(this,P)},x=!0):n instanceof Array?(s=[],O=!0):s=d||f!==null?c(f):{};let j=o.get?function(u){return y("get"),o.get(this,u,s)}:function(u){return y("get"),this[u]},I=o.set?function(u,b){y("set");let P=o.set(this,u,b,s)}:function(u,b){y("set"),this[u]=b},N=a.getOwnPropertyNames(n),q={};N.forEach(function(u){if((x||O)&&u in s)return;let b=a.getOwnPropertyDescriptor(n,u),P={enumerable:Boolean(b.enumerable),get:j.bind(n,u),set:I.bind(n,u)};a.defineProperty(s,u,P),q[u]=!0});let F=!0;if(x||O){let u=a.setPrototypeOf||([].__proto__===Array.prototype?function(P,D){return p(D),P.__proto__=D,P}:l);f&&u(s,f)||(F=!1)}if(o.get||!F)for(let u in n)q[u]||a.defineProperty(s,u,{get:j.bind(n,u)});return a.seal(n),a.seal(s),s},r.revocable=function(n,o){return{proxy:new r(n,o),revoke:t}},r}});var S=A(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.create=ue,M.unwrap=ce;var oe=ie(U());function ie(e){return e&&e.__esModule?e:{default:e}}var ae=oe.default(),G=function(e,t,r){if(typeof e!="object"||e===null)return e;var i,p={get:function(a,d){if(d==="__rawObject__")return e;var c=r.concat(d),l=e[d];return t.push({path:c,value:l}),G(l,t,c)}};try{i=new Proxy(e,p)}catch(a){i=new ae(e,p)}return i};function ue(e,t){return G(e,t,[])}function ce(e){return typeof e!="object"||e===null||typeof e.__rawObject__!="object"?e:e.__rawObject__}});var J=A(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.behavior=void 0;var Y,se=K(require("rfdc")),fe=K(require("fast-deep-equal")),w=Q(z()),T=Q(S());function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e){return e&&e.__esModule?e:{default:e}}function Q(e){if(e&&e.__esModule)return e;var t={};if(e!=null){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}}return t.default=e,t}var X=se.default({proto:!0}),pe=0,de=Behavior({lifetimes:{attached:function(){this.setData({_computedWatchInit:"attached"})},created:function(){this.setData({_computedWatchInit:"created"})}},definitionFilter:function(e){var t=e.computed,r=e.watch,i=[],p=pe++;i.push({fields:"_computedWatchInit",observer:function(){var a=this.data._computedWatchInit;if(a==="created"){var d={computedUpdaters:[],computedRelatedPathValues:{},watchCurVal:{},_triggerFromComputedAttached:{}};this._computedWatchInfo||(this._computedWatchInfo={}),this._computedWatchInfo[p]=d,r&&Object.keys(r).forEach(function(l){var _=w.parseMultiDataPaths(l).map(function(n){var o=n.path,v=n.options,y=w.getDataOnPath(this.data,o);return v.deepCmp?X(y):y}.bind(this));d.watchCurVal[l]=_}.bind(this))}else if(a==="attached"){var c=this._computedWatchInfo[p];t&&Object.keys(t).forEach(function(l){var _=t[l],n=[],o=_(T.create(this.data,n)),v=n.map(function(h){var f=h.path;return{path:f,value:w.getDataOnPath(this.data,f)}}.bind(this));this.setData(Z({},l,T.unwrap(o))),c._triggerFromComputedAttached[l]=!0,c.computedRelatedPathValues[l]=v;var y=function(){for(var h=c.computedRelatedPathValues[l],f=!1,s=0;s<h.length;s++){var x=h[s],O=x.path;if(x.value!==w.getDataOnPath(this.data,O)){f=!0;break}}if(!f)return!1;var j=[],I=_(T.create(this.data,j));return this.setData(Z({},l,T.unwrap(I))),c.computedRelatedPathValues[l]=j,!0}.bind(this);c.computedUpdaters.push(y)}.bind(this))}}}),t&&i.push({fields:"**",observer:function(){if(this._computedWatchInfo){var a,d=this._computedWatchInfo[p];if(d)do a=d.computedUpdaters.some(function(c){return c.call(this)}.bind(this));while(a)}}}),r&&Object.keys(r).forEach(function(a){var d=w.parseMultiDataPaths(a);i.push({fields:a,observer:function(){if(this._computedWatchInfo){var c=this._computedWatchInfo[p];if(c){if(Object.keys(c._triggerFromComputedAttached).length){var l={};for(var _ in d.forEach(function(f){return l[f.path[0]]=!0}),c._triggerFromComputedAttached)if(c._triggerFromComputedAttached.hasOwnProperty(_)&&l[_]&&c._triggerFromComputedAttached[_])return void(c._triggerFromComputedAttached[_]=!1)}var n=c.watchCurVal[a],o=d.map(function(f){var s=f.path,x=f.options;return{val:w.getDataOnPath(this.data,s),options:x}}.bind(this)),v=o.map(function(f){var s=f.val;return f.options.deepCmp?X(s):s});c.watchCurVal[a]=v;for(var y=!1,h=0;h<v.length;h++)if(d[h].options.deepCmp?!fe.default(n[h],v[h]):n[h]!==v[h]){y=!0;break}y&&r[a].apply(this,o.map(function(f){return f.val}))}}}})}),typeof e.observers!="object"&&(e.observers={}),Array.isArray(e.observers)?(Y=e.observers).push.apply(Y,i):i.forEach(function(a){var d=e.observers[a.fields];d?e.observers[a.fields]=function(){a.observer.call(this),d.call(this)}:e.observers[a.fields]=a.observer})}});E.behavior=de});"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"behavior",{enumerable:!0,get:function(){return W.behavior}}),exports.ComponentWithComputed=le,exports.BehaviorWithComputed=he,exports.DataTracerMode=exports.setCurrentDataTracerMode=exports.getCurrentDataTracerMode=void 0;var g,k,W=J();function le(e){return Array.isArray(e.behaviors)||(e.behaviors=[]),e.behaviors.unshift(W.behavior),Component(e)}function he(e){return Array.isArray(e.behaviors)||(e.behaviors=[]),e.behaviors.unshift(W.behavior),Behavior(e)}exports.DataTracerMode=k,(g=k||(exports.DataTracerMode=k={}))[g.Auto=0]="Auto",g[g.Proxy=1]="Proxy",g[g.DefineProperty=2]="DefineProperty";var $=k.Auto,ve=function(){return $};exports.getCurrentDataTracerMode=ve;var ye=function(e){$=e};exports.setCurrentDataTracerMode=ye;
